let express,configure,dotenv,handleRequest,handleErrors,connectWithDb,uri,errorLogger,infoLogger;_e9f‍.x([["default",()=>_e9f‍.o]]);_e9f‍.w("express",[["default",["express"],function(v){express=v}]]);_e9f‍.w("./controllers/index",[["default",["configure"],function(v){configure=v}]]);_e9f‍.w("dotenv",[["default",["dotenv"],function(v){dotenv=v}]]);_e9f‍.w("./middlewares/index",[["handleRequest",["handleRequest"],function(v){handleRequest=v}],["handleErrors",["handleErrors"],function(v){handleErrors=v}]]);_e9f‍.w("./mongo",[["connectWithDb",["connectWithDb"],function(v){connectWithDb=v}],["uri",["uri"],function(v){uri=v}]]);_e9f‍.w("./logger",[["errorLogger",["errorLogger"],function(v){errorLogger=v}],["infoLogger",["infoLogger"],function(v){infoLogger=v}]]);


dotenv.config();





const app = express();

_e9f‍.g.console.log(process.env.ENVIRONMENT);
app.use(express.json());


app.use(handleRequest);
connectWithDb();

if (process.env.ENVIRONMENT != 'TEST') {
    app.use(infoLogger);
}
configure(app);

if (process.env.ENVIRONMENT != 'TEST') {
    app.use(errorLogger(uri));
}


app.use(infoLogger);

app.use(errorLogger(uri));
app.use(handleErrors)

_e9f‍.d(app);