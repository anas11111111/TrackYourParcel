let express,configure,dotenv,handleRequest,handleErrors,connectWithDb,uri,errorLogger,infoLogger;_db8‍.x([["default",()=>_db8‍.o]]);_db8‍.w("express",[["default",["express"],function(v){express=v}]]);_db8‍.w("./controllers/index",[["default",["configure"],function(v){configure=v}]]);_db8‍.w("dotenv",[["default",["dotenv"],function(v){dotenv=v}]]);_db8‍.w("./middlewares/index",[["handleRequest",["handleRequest"],function(v){handleRequest=v}],["handleErrors",["handleErrors"],function(v){handleErrors=v}]]);_db8‍.w("./mongo",[["connectWithDb",["connectWithDb"],function(v){connectWithDb=v}],["uri",["uri"],function(v){uri=v}]]);_db8‍.w("./logger",[["errorLogger",["errorLogger"],function(v){errorLogger=v}],["infoLogger",["infoLogger"],function(v){infoLogger=v}]]);


dotenv.config();





const app = express();

_db8‍.g.console.log(process.env.ENVIRONMENT);
app.use(express.json());


app.use(handleRequest);
connectWithDb();

if (process.env.ENVIRONMENT != 'TEST') {
    app.use(infoLogger);
}
configure(app);

if (process.env.ENVIRONMENT != 'TEST') {
    app.use(errorLogger(uri));
}


app.use(infoLogger);

app.use(errorLogger(uri));
app.use(handleErrors)

_db8‍.d(app);